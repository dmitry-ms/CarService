@model CommonEditServiceViewModel


@{
    ViewData["Title"] = "Новая услуга";
}

<h4>Добавление новой услуги</h4>
<hr />
<div class="row justify-content-center mt-2">
    <div class="col-md-5">
        <form class="needs-validation" id="add_service" method="post" asp-controller="Service" asp-action="Create" asp-antiforgery="true" novalidate>
            <div class="form-floating mb-2">
                <input asp-for="service.ServiceName" class="form-control" placeholder="ServiceName">
                <label asp-for="service.ServiceName"></label>
                <div class="invalid-tooltip">
                    <span asp-validation-for="service.ServiceName"></span>
                </div>
            </div>
            <div class="form-floating mb-2">
                <textarea asp-for="service.Description" class="form-control" placeholder="Description" rows="5"></textarea>
                <label asp-for="service.Description"></label>
                <div class="invalid-tooltip">
                    <span asp-validation-for="service.Description"></span>
                </div>
            </div>
            <div class="form-floating mb-2">
                <select onchange="getCostTypesPartial(this.value)" asp-for="service.ServiceType" asp-items="Html.GetEnumSelectList<ServiceTypeViewModel>()" class="form-select" aria-label="ServiceType">
                    <option selected disabled></option>
                </select>
                <label asp-for="service.ServiceType"></label>
                <div class="invalid-tooltip">
                    <span asp-validation-for="service.ServiceType"></span>
                </div>
            </div>
            <div id="result_get_cost_types_partial" class="mt-4"></div>
            <div id="result_get_cost_partial"></div>
            <div class="form-floating mt-4 mb-2">
                <select onchange="getParameterPartial(this.value)" asp-for="service.ParameterType" asp-items="Html.GetEnumSelectList<ParameterTypeViewModel>()" class="form-select" aria-label="ServiceType">
                    <option selected disabled></option>
                </select>
                <label asp-for="service.ParameterType"></label>
                <div class="invalid-tooltip">
                    <span asp-validation-for="service.ParameterType"></span>
                </div>
            </div>
            <div id="result_get_parameter_partial"></div>
            <div class="form-group mb-2">
                <input type="submit" value="Далее" class="btn btn-primary" />
                <a class="btn btn-outline-danger float-end" asp-action="Index">Вернуться к списку</a>
            </div>
        </form>
    </div>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/js/timepicker.min.js" type="text/javascript"></script>
    <script src="~/js/serviceAjax.js" type="text/javascript"></script>
}